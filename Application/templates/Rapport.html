{% extends "layout.html" %} {% block content %}
<div class="container-fluid bg-3 text-center" id="third">
    {% if scroll %}
    <script>
        document.location.hash = '#' + '{{ scroll }}';
    </script>
    {% endif %}
    <div class="carousel-inner">

        {% for image in images %}
        <div class="carousel-item">

            <img class="d-block mw-100 center" src="{{url_for('static', filename = image)}}">

        </div>
        {% endfor %}

        <div>

            <br>
            <p><img src="{{ url_for('send_file', filename=filename) }}" class="img-thumbnail" id="picture"></p>

            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">

                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>

            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>

        </div>
    </div>

    <div class="table-pieces">
        {% if result['Dic1']| length !=0 %}
        <table style="border: 0px">
            <thead>
                <tr>
                    <th scope="col" style="text-align: center">Pieces</th>
                    <th scope="col" style="text-align: center">Operation</th>
                    <th scope="col" style="text-align: center">Prix</th>
                </tr>
            </thead>
            <tbody>

                {% for p, op in result['Dic'].items() %}
                <tr>

                    <td class="price">
                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            {% print(p) %}
                        </div>
                    </td>

                    <td class="price">
                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            {% print(op) %}
                        </div>
                    </td>
                    <td class="price">
                        {% for d in result['Dic1'] %}
                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">

                            {% print(d[p]) %}
                        </div>
                        {% endfor%}


                    </td>
                </tr>
                {% endfor %}

            </tbody>
            <tfoot>
                <tr>
                    <th class="lib-total" colspan="2" style="text-align: center">Total</th>

                    <th class="fld-num" style="text-align: center">{% print(Prix) %} DH</th>
                </tr>
            </tfoot>

        </table>

        <p id="grandtotal"></p>

        {% endif %}
    </div>


    <div class="table-pieces">
        {% if result["Dic"]| length !=0 %}
        <table style="border: 0px">
            <tbody>

                <tr>
                    <td scope="col" style="text-align: center">
                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            Main d'œuvre tolerie 1
                        </div>
                    </td>
                    <td class="p-0">
                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            {% print(result['Main d\'œuvre tolerie 1']) %}
                        </div>
                    </td>
                </tr>
                <tr>
                    <td scope="col" style="text-align: center">
                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            Main d'œuvre tolerie 2
                        </div>
                    </td>
                    <td class="p-0">
                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            {% print(result['Main d\'œuvre tolerie 2']) %}
                        </div>
                    </td>
                </tr>
                <tr>
                    <td scope="col" style="text-align: center">
                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            Main d'œuvre peinture
                        </div>
                    </td>
                    <td class="p-0">
                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            {% print(result['Main d\'œuvre peinture']) %}
                        </div>
                    </td>
                </tr>
                <tr>
                    <td scope="col" style="text-align: center">

                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            TMain
                        </div>
                    </td>
                    <td class="p-0">
                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            {% print(result['TMain']) %}
                        </div>
                    </td>
                </tr>
                <tr>
                    <td scope="col" style="text-align: center">

                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            Produit de pienture
                        </div>
                    </td>
                    <td class="p-0">
                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            {% print(result['Produit de pienture']) %}
                        </div>
                    </td>
                </tr>
                <tr>
                    <td scope="col" style="text-align: center">

                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            Total de Fourniture
                        </div>
                    </td>
                    <td class="p-0">
                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            {% print(result['Total de Fourniture']) %}
                        </div>
                    </td>
                </tr>
                <tr>
                    <td scope="col" style="text-align: center">

                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            Total
                        </div>
                    </td>
                    <td class="p-0">
                        <div class="d-flex flex-row justify-content-center align-items-stretch flex-wrap">
                            {% print(result['Total']) %}
                        </div>
                    </td>
                </tr>


            </tbody>
        </table>
        {% endif %}
    </div>

    {% endblock %}